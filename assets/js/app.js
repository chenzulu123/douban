!function(o){o.module("douban",["douban_home","douban_details","douban_movie_list"]).controller("appCtrl",["$scope","$window",function(o,e){o.skip=function(){void 0!=o.name&&o.name+"".toString().trim()!=""?(e.location.hash="#/search?q="+o.name,o.name=""):alert("请输入搜索的内容！")}}])}(angular),function(o){var e=o.module("douban_details",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/details/:id",{templateUrl:"./details/details.html",controller:"detailsCtrl"})}]),e.controller("detailsCtrl",["$scope","$routeParams","jsonp",function(o,e,n){n({url:"https://api.douban.com/v2/movie/subject/"+e.id,params:{},callback:function(e){o.movie=e,o.isShow=!1,console.log(e),o.$apply()}})}])}(angular),function(o){var e=o.module("douban_home",["ngRoute"]);e.config(["$locationProvider",function(o){o.hashPrefix("")}]),e.config(["$routeProvider",function(o){o.when("/home",{templateUrl:"./home/home.html"}).when("/",{redirectTo:"/home"})}])}(angular),function(o){var e=o.module("douban_movie_list",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/:movieType/:page?",{templateUrl:"./movie_list/movie_list.html",controller:"movie_listCtrl"})}]),e.controller("movie_listCtrl",["$scope","$route","$window","$routeParams","jsonp",function(o,e,n,a,t){o.pageIndex=+(a.page||"1"),o.pageSize=10,t({url:"https://api.douban.com/v2/movie/"+a.movieType,params:{count:o.pageSize,start:(o.pageIndex-1)*o.pageSize,q:a.q},callback:function(e){o.movies=e,o.pageCount=n.Math.ceil(e.total/o.pageSize),o.isShow=!1,o.$apply()}}),o.getPage=function(n){n<1||n>o.pageCount||e.updateParams({page:n})}}])}(angular),function(o){var e=o.module("service",[]),n=1;e.factory("jsonp",["$window",function(o){return function(e){var a=e.url+"?";for(var t in e.params)a+=t+"="+e.params[t]+"&";var i="hmCallback"+n++;o[i]=e.callback,a+="callback="+i;var r=o.document.createElement("script");r.src=a,o.document.body.appendChild(r)}}]),e.directive("doubanActive",function(){return{restrict:"A",link:function(o,e,n){e.on("click",function(){e.parent().children().removeClass("active"),e.addClass("active")})}}})}(angular),angular.module("douban",["douban_home","douban_details","douban_movie_list"]).controller("appCtrl",["$scope","$window",function(o,e){o.skip=function(){void 0!=o.name&&o.name+"".toString().trim()!=""?(e.location.hash="#/search?q="+o.name,o.name=""):alert("请输入搜索的内容！")}}]),function(o){var e=angular.module("douban_coming_soon",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/coming_soon/:page?",{templateUrl:"./coming_soon/coming_soon.html",controller:"coming_soonCtrl"})}]),e.controller("coming_soonCtrl",["$scope","$route","$window","$routeParams","jsonp",function(o,e,n,a,t){o.pageIndex=+(a.page||"1"),o.pageSize=10,t({url:"https://api.douban.com/v2/movie/coming_soon",params:{count:o.pageSize,start:(o.pageIndex-1)*o.pageSize},callback:function(e){console.log(e),o.movies=e,o.pageCount=n.Math.ceil(e.total/o.pageSize),o.isShow=!1,o.$apply()}}),o.getPage=function(n){n<1||n>o.pageCount||e.updateParams({page:n})}}])}(),function(o){var e=angular.module("douban_details",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/details/:id",{templateUrl:"./details/details.html",controller:"detailsCtrl"})}]),e.controller("detailsCtrl",["$scope","$routeParams","jsonp",function(o,e,n){n({url:"https://api.douban.com/v2/movie/subject/"+e.id,params:{},callback:function(e){o.movie=e,o.isShow=!1,console.log(e),o.$apply()}})}])}(),function(o){var e=angular.module("douban_home",["ngRoute"]);e.config(["$locationProvider",function(o){o.hashPrefix("")}]),e.config(["$routeProvider",function(o){o.when("/home",{templateUrl:"./home/home.html"}).when("/",{redirectTo:"/home"})}])}(),function(o){var e=angular.module("douban_movie_list",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/:movieType/:page?",{templateUrl:"./movie_list/movie_list.html",controller:"movie_listCtrl"})}]),e.controller("movie_listCtrl",["$scope","$route","$window","$routeParams","jsonp",function(o,e,n,a,t){o.pageIndex=+(a.page||"1"),o.pageSize=10,t({url:"https://api.douban.com/v2/movie/"+a.movieType,params:{count:o.pageSize,start:(o.pageIndex-1)*o.pageSize,q:a.q},callback:function(e){o.movies=e,o.pageCount=n.Math.ceil(e.total/o.pageSize),o.isShow=!1,o.$apply()}}),o.getPage=function(n){n<1||n>o.pageCount||e.updateParams({page:n})}}])}(),function(o){var e=angular.module("service",[]),n=1;e.factory("jsonp",["$window",function(o){return function(e){var a=e.url+"?";for(var t in e.params)a+=t+"="+e.params[t]+"&";var i="hmCallback"+n++;o[i]=e.callback,a+="callback="+i;var r=o.document.createElement("script");r.src=a,o.document.body.appendChild(r)}}]),e.directive("doubanActive",function(){return{restrict:"A",link:function(o,e,n){e.on("click",function(){e.parent().children().removeClass("active"),e.addClass("active")})}}})}(),angular.module("douban",["douban_home","douban_details","douban_movie_list"]).controller("appCtrl",["$scope","$window",function(o,e){o.skip=function(){void 0!=o.name&&o.name+"".toString().trim()!=""?(e.location.hash="#/search?q="+o.name,o.name=""):alert("请输入搜索的内容！")}}]),function(o){var e=angular.module("douban_coming_soon",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/coming_soon/:page?",{templateUrl:"./coming_soon/coming_soon.html",controller:"coming_soonCtrl"})}]),e.controller("coming_soonCtrl",["$scope","$route","$window","$routeParams","jsonp",function(o,e,n,a,t){o.pageIndex=+(a.page||"1"),o.pageSize=10,t({url:"https://api.douban.com/v2/movie/coming_soon",params:{count:o.pageSize,start:(o.pageIndex-1)*o.pageSize},callback:function(e){console.log(e),o.movies=e,o.pageCount=n.Math.ceil(e.total/o.pageSize),o.isShow=!1,o.$apply()}}),o.getPage=function(n){n<1||n>o.pageCount||e.updateParams({page:n})}}])}(),function(o){var e=angular.module("douban_details",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/details/:id",{templateUrl:"./details/details.html",controller:"detailsCtrl"})}]),e.controller("detailsCtrl",["$scope","$routeParams","jsonp",function(o,e,n){n({url:"https://api.douban.com/v2/movie/subject/"+e.id,params:{},callback:function(e){o.movie=e,o.isShow=!1,console.log(e),o.$apply()}})}])}(),function(o){var e=angular.module("douban_home",["ngRoute"]);e.config(["$locationProvider",function(o){o.hashPrefix("")}]),e.config(["$routeProvider",function(o){o.when("/home",{templateUrl:"./home/home.html"}).when("/",{redirectTo:"/home"})}])}(),function(o){var e=angular.module("douban_movie_list",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/:movieType/:page?",{templateUrl:"./movie_list/movie_list.html",controller:"movie_listCtrl"})}]),e.controller("movie_listCtrl",["$scope","$route","$window","$routeParams","jsonp",function(o,e,n,a,t){o.pageIndex=+(a.page||"1"),o.pageSize=10,t({url:"https://api.douban.com/v2/movie/"+a.movieType,params:{count:o.pageSize,start:(o.pageIndex-1)*o.pageSize,q:a.q},callback:function(e){o.movies=e,o.pageCount=n.Math.ceil(e.total/o.pageSize),o.isShow=!1,o.$apply()}}),o.getPage=function(n){n<1||n>o.pageCount||e.updateParams({page:n})}}])}(),function(o){var e=angular.module("service",[]),n=1;e.factory("jsonp",["$window",function(o){return function(e){var a=e.url+"?";for(var t in e.params)a+=t+"="+e.params[t]+"&";var i="hmCallback"+n++;o[i]=e.callback,a+="callback="+i;var r=o.document.createElement("script");r.src=a,o.document.body.appendChild(r)}}]),e.directive("doubanActive",function(){return{restrict:"A",link:function(o,e,n){e.on("click",function(){e.parent().children().removeClass("active"),e.addClass("active")})}}})}(),angular.module("douban",["douban_home","douban_details","douban_movie_list"]).controller("appCtrl",["$scope","$window",function(o,e){o.skip=function(){void 0!=o.name&&o.name+"".toString().trim()!=""?(e.location.hash="#/search?q="+o.name,o.name=""):alert("请输入搜索的内容！")}}]),function(o){var e=angular.module("douban_coming_soon",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/coming_soon/:page?",{templateUrl:"./coming_soon/coming_soon.html",controller:"coming_soonCtrl"})}]),e.controller("coming_soonCtrl",["$scope","$route","$window","$routeParams","jsonp",function(o,e,n,a,t){o.pageIndex=+(a.page||"1"),o.pageSize=10,t({url:"https://api.douban.com/v2/movie/coming_soon",params:{count:o.pageSize,start:(o.pageIndex-1)*o.pageSize},callback:function(e){console.log(e),o.movies=e,o.pageCount=n.Math.ceil(e.total/o.pageSize),o.isShow=!1,o.$apply()}}),o.getPage=function(n){n<1||n>o.pageCount||e.updateParams({page:n})}}])}(),function(o){var e=angular.module("douban_details",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/details/:id",{templateUrl:"./details/details.html",controller:"detailsCtrl"})}]),e.controller("detailsCtrl",["$scope","$routeParams","jsonp",function(o,e,n){n({url:"https://api.douban.com/v2/movie/subject/"+e.id,params:{},callback:function(e){o.movie=e,o.isShow=!1,console.log(e),o.$apply()}})}])}(),function(o){var e=angular.module("douban_home",["ngRoute"]);e.config(["$locationProvider",function(o){o.hashPrefix("")}]),e.config(["$routeProvider",function(o){o.when("/home",{templateUrl:"./home/home.html"}).when("/",{redirectTo:"/home"})}])}(),function(o){var e=angular.module("douban_movie_list",["ngRoute","service"]);e.config(["$routeProvider",function(o){o.when("/:movieType/:page?",{templateUrl:"./movie_list/movie_list.html",controller:"movie_listCtrl"})}]),e.controller("movie_listCtrl",["$scope","$route","$window","$routeParams","jsonp",function(o,e,n,a,t){o.pageIndex=+(a.page||"1"),o.pageSize=10,t({url:"https://api.douban.com/v2/movie/"+a.movieType,params:{count:o.pageSize,start:(o.pageIndex-1)*o.pageSize,q:a.q},callback:function(e){o.movies=e,o.pageCount=n.Math.ceil(e.total/o.pageSize),o.isShow=!1,o.$apply()}}),o.getPage=function(n){n<1||n>o.pageCount||e.updateParams({page:n})}}])}(),function(o){var e=angular.module("service",[]),n=1;e.factory("jsonp",["$window",function(o){return function(e){var a=e.url+"?";for(var t in e.params)a+=t+"="+e.params[t]+"&";var i="hmCallback"+n++;o[i]=e.callback,a+="callback="+i;var r=o.document.createElement("script");r.src=a,o.document.body.appendChild(r)}}]),e.directive("doubanActive",function(){return{restrict:"A",link:function(o,e,n){e.on("click",function(){e.parent().children().removeClass("active"),e.addClass("active")})}}})}();